ğŸ“‘ INDEX - DUAL DATABASE SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ POINT DE DÃ‰PART
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â­ START_HERE_DUAL_DB.txt              â† LISEZ D'ABORD! DÃ©marrage rapide (2-5 min)
   â””â”€ Contient tout ce qu'il faut pour commencer
   
ğŸ“Š DUAL_DB_VISUAL_GUIDE.txt            â† Guide visuel avec diagrammes

ğŸ“‹ DUAL_DATABASE_SUMMARY.txt           â† RÃ©sumÃ© technique complet


ğŸ“š DOCUMENTATION COMPLÃˆTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Concept & Architecture:
  â”œâ”€ GUIDE_DUAL_DATABASE.md          (Concept, modes, usage)
  â””â”€ DUAL_DB_VISUAL_GUIDE.txt        (Diagrammes et architecture)

Migration des donnÃ©es:
  â””â”€ GUIDE_MIGRATION_MYSQL.md        (Migrer SQLite â†’ MySQL)

RÃ©sumÃ©s techniques:
  â”œâ”€ DUAL_DATABASE_SUMMARY.txt       (RÃ©sumÃ© complet)
  â””â”€ DUAL_DB_VISUAL_GUIDE.txt        (Vue d'ensemble visuelle)


ğŸ”§ SCRIPTS PRINCIPAUX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Setup & Installation:
  â”œâ”€ setup_dual_system.py            â† Setup automatisÃ© (7 Ã©tapes)
  â”‚  â””â”€ Usage: python setup_dual_system.py --full
  â”‚           python setup_dual_system.py --quick
  â”‚           python setup_dual_system.py --verify
  â”‚
  â””â”€ install_mysql_requirements.py   â† Installer les packages
     â””â”€ Usage: python install_mysql_requirements.py

Configuration MySQL:
  â”œâ”€ mysql_config_setup.py           â† Configuration interactive
  â”‚  â””â”€ Usage: python mysql_config_setup.py --all
  â”‚           python mysql_config_setup.py --verify
  â”‚           python mysql_config_setup.py --interactive
  â”‚           python mysql_config_setup.py --import-schema FILE
  â”‚
  â””â”€ .env.example                    â† Template de configuration

Moteur Dual-Database:
  â”œâ”€ app/dual_database.py            â† CÅ“ur du systÃ¨me
  â”‚  â””â”€ Classe: DualDatabase
  â”‚    â”œâ”€ sync_all(direction)
  â”‚    â”œâ”€ check_connectivity()
  â”‚    â””â”€ get_stats()
  â”‚
  â”œâ”€ app/sync_databases.py           â† Synchroniseur temps rÃ©el
  â”‚  â””â”€ Usage: python sync_databases.py --watch
  â”‚           python sync_databases.py --daemon
  â”‚           python sync_databases.py --sync-sqlite
  â”‚           python sync_databases.py --status
  â”‚
  â””â”€ app/database_manager.py         â† Gestionnaire base
     â””â”€ Usage: python database_manager.py --health
              python database_manager.py --compare
              python database_manager.py --info
              python database_manager.py --export FILE

Migration de donnÃ©es:
  â”œâ”€ app/migrate_to_mysql.py         â† Migrer SQLite â†’ MySQL
  â”‚  â””â”€ Usage: python migrate_to_mysql.py --all
  â”‚           python migrate_to_mysql.py --export-sql
  â”‚           python migrate_to_mysql.py --verify
  â”‚
  â””â”€ database/epi_detection_mysql_schema.sql  â† SchÃ©ma MySQL


âš¡ DÃ‰MARRAGE RAPIDE (COPIER-COLLER)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

3 MINUTES MINIMUM:

   python setup_dual_system.py --quick
   cd app
   python mysql_config_setup.py --all
   python sync_databases.py --watch
   # Dans autre terminal:
   cd ..
   python run_app.py

5 MINUTES COMPLET:

   python install_mysql_requirements.py
   mkdir -p database logs instance
   python setup_dual_system.py --quick
   cd app
   python mysql_config_setup.py --interactive
   python mysql_config_setup.py --import-schema ../database/epi_detection_mysql_schema.sql
   python sync_databases.py --status
   python sync_databases.py --watch
   # Dans autre terminal:
   cd ..
   python run_app.py


ğŸ“Š MODES DE SYNCHRONISATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SQLITE_PRIMARY (DÃ©faut - DEV)
  Fichier .env: SYNC_MODE=sqlite_primary
  Flux: Ã‰crit SQLite â†’ Sync asynchrone vers MySQL
  Performance: Ultra-rapide âš¡
  IdÃ©al pour: DÃ©veloppement & tests

MYSQL_PRIMARY (Production)
  Fichier .env: SYNC_MODE=mysql_primary
  Flux: Ã‰crit MySQL â†’ Sync asynchrone vers SQLite
  Performance: Bon (MySQL + cache)
  IdÃ©al pour: Production & donnÃ©es critiques

BOTH (Maximum sÃ©curitÃ©)
  Fichier .env: SYNC_MODE=both
  Flux: Ã‰crit SQLite ET MySQL simultanÃ©
  Performance: Plus lent
  IdÃ©al pour: DonnÃ©es trÃ¨s critiques


ğŸ¯ CAS D'USAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DÃ©veloppement local:
  1. SYNC_MODE=sqlite_primary
  2. DB_HOST=localhost
  3. python sync_databases.py --watch

Production (serveur local):
  1. SYNC_MODE=mysql_primary
  2. python sync_databases.py --daemon &

Production (serveur distant):
  1. SYNC_MODE=mysql_primary
  2. DB_HOST=ip_serveur
  3. python sync_databases.py --daemon &

Failover (MySQL down):
  - L'app continue sur SQLite
  - Quand MySQL revient: sync automatique


ğŸ“‹ COMMANDES ESSENTIELLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Synchronisation:
  python app/sync_databases.py --sync-sqlite    (SQLite â†’ MySQL)
  python app/sync_databases.py --sync-mysql     (MySQL â†’ SQLite)
  python app/sync_databases.py --watch          (Continu)
  python app/sync_databases.py --daemon         (Fond)
  python app/sync_databases.py --status         (Ã‰tat)

Gestion base de donnÃ©es:
  python app/database_manager.py --info         (Infos)
  python app/database_manager.py --health       (SantÃ©)
  python app/database_manager.py --compare      (Comparer)
  python app/database_manager.py --export FILE  (JSON)

Configuration:
  python app/mysql_config_setup.py --interactive  (Config)
  python app/mysql_config_setup.py --verify       (VÃ©rifier)
  python app/mysql_config_setup.py --import-schema FILE

Setup complet:
  python setup_dual_system.py --full          (Setup complet)
  python setup_dual_system.py --quick         (Rapide)
  python setup_dual_system.py --verify        (VÃ©rifier)


ğŸ” CONFIGURATION (.env)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CrÃ©er fichier .env Ã  la racine avec:

# Dual Database
DUAL_DATABASE=true
SYNC_MODE=sqlite_primary

# SQLite (local)
SQLITE_DB_PATH=instance/epi_detection.db

# MySQL (distant ou local)
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_USER=epi_user
DB_PASSWORD=votre_mot_de_passe
DB_NAME=epi_detection_db

# Flask
FLASK_ENV=production
DEBUG=false

# Logging
SQLALCHEMY_ECHO=false
SQLALCHEMY_TRACK_MODIFICATIONS=false


ğŸ“ STRUCTURE DES FICHIERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EPI-DETECTION-PROJECT/
â”œâ”€ .env                              (Configuration - NE PAS COMMITER!)
â”œâ”€ .env.example                      (Template de .env)
â”‚
â”œâ”€ START_HERE_DUAL_DB.txt            â† LISEZ D'ABORD
â”œâ”€ DUAL_DB_VISUAL_GUIDE.txt          (Guide visuel)
â”œâ”€ DUAL_DATABASE_SUMMARY.txt         (RÃ©sumÃ© technique)
â”œâ”€ GUIDE_DUAL_DATABASE.md            (Guide complet)
â”œâ”€ GUIDE_MIGRATION_MYSQL.md          (Migration donnÃ©es)
â”‚
â”œâ”€ setup_dual_system.py              (Setup automatisÃ©)
â”œâ”€ install_mysql_requirements.py     (Installation packages)
â”‚
â”œâ”€ app/
â”‚  â”œâ”€ dual_database.py               (Moteur dual-DB)
â”‚  â”œâ”€ sync_databases.py              (Synchroniseur)
â”‚  â”œâ”€ database_manager.py            (Gestionnaire)
â”‚  â”œâ”€ mysql_config_setup.py          (Configuration)
â”‚  â”œâ”€ migrate_to_mysql.py            (Migration donnÃ©es)
â”‚  â”‚
â”‚  â”œâ”€ database_unified.py            (ORM SQLAlchemy)
â”‚  â””â”€ config.py                      (Configuration app)
â”‚
â”œâ”€ database/
â”‚  â””â”€ epi_detection_mysql_schema.sql (SchÃ©ma MySQL)
â”‚
â”œâ”€ instance/
â”‚  â””â”€ epi_detection.db               (SQLite local)
â”‚
â””â”€ logs/
   â”œâ”€ app.log                        (Application)
   â”œâ”€ sync.log                       (Synchronisation)
   â””â”€ error.log                      (Erreurs)


âœ… CHECKLIST DE SETUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRÃ‰REQUIS
â˜ Python 3.7+ installÃ©
â˜ MySQL installÃ© et en cours
â˜ PhpMyAdmin (optionnel mais recommandÃ©)

INSTALLATION
â˜ python install_mysql_requirements.py
â˜ mkdir -p database logs instance

CONFIGURATION
â˜ CrÃ©er/Ã©diter .env avec paramÃ¨tres MySQL
â˜ python app/mysql_config_setup.py --all

SCHÃ‰MA
â˜ python app/mysql_config_setup.py --import-schema database/epi_detection_mysql_schema.sql

VÃ‰RIFICATION
â˜ python app/sync_databases.py --status  (Affiche statut)
â˜ python app/database_manager.py --health (VÃ©rification santÃ©)

DÃ‰MARRAGE
â˜ python app/sync_databases.py --watch   (Sync continu)
â˜ python run_app.py                      (App Flask)

PRODUCTION
â˜ SYNC_MODE=mysql_primary dans .env
â˜ python app/sync_databases.py --daemon &  (Daemon)
â˜ Configurer backup MySQL


ğŸ†˜ AIDE RAPIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ProblÃ¨me                          Solution
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MySQL not connected          â†’ cd app && python mysql_config_setup.py --verify
Tables not found             â†’ python mysql_config_setup.py --import-schema ...
Sync failing                 â†’ python app/database_manager.py --health
Performance lente            â†’ VÃ©rifier serveur MySQL
Database locked (SQLite)     â†’ sqlite3 instance/epi_detection.db "VACUUM;"

Besoin d'aide?               â†’ Lire START_HERE_DUAL_DB.txt ou GUIDE_DUAL_DATABASE.md


ğŸ“ SUPPORT & RESSOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Documentation:
  â”œâ”€ START_HERE_DUAL_DB.txt         DÃ©marrage rapide
  â”œâ”€ GUIDE_DUAL_DATABASE.md         Guide complet
  â”œâ”€ GUIDE_MIGRATION_MYSQL.md       Migration donnÃ©es
  â””â”€ DUAL_DATABASE_SUMMARY.txt      RÃ©sumÃ© technique

Logs pour debugging:
  â”œâ”€ logs/app.log               Application logs
  â”œâ”€ logs/sync.log              Synchronisation logs
  â””â”€ logs/error.log             Erreurs

Outils de diagnostic:
  â”œâ”€ python app/sync_databases.py --status
  â”œâ”€ python app/database_manager.py --health
  â””â”€ python app/database_manager.py --compare


ğŸ‰ VOUS ÃŠTES PRÃŠT!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Vous avez maintenant un systÃ¨me professionnel:
  âœ… SQLite pour le cache local rapide
  âœ… MySQL pour le stockage central sÃ»r
  âœ… Synchronisation automatique
  âœ… Failover automatique
  âœ… Monitoring intÃ©grÃ©

DÃ©marrage:
  1. python setup_dual_system.py --quick
  2. cd app && python mysql_config_setup.py --all
  3. python sync_databases.py --watch
  4. python run_app.py (autre terminal)

C'est prÃªt pour la production! ğŸš€


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DerniÃ¨re mise Ã  jour: 10 janvier 2026
Version: 1.0 - Complete Dual Database System
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
